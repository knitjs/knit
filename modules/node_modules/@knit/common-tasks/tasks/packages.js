/* @flow weak */

const knit = require('@knit/knit-core');
const needle = require('@knit/needle');

const tasks = [
  {
    title: 'reading package.json of modules',
    task: ctx => {
      ctx.pkgs = {};
      ctx.modules.forEach(m => {
        ctx.pkgs[m] = knit.readPkg(m, needle.paths);
      });
    },
  },
];

module.exports = tasks;
